<HTML>
<HEAD>
<TITLE>Tools</TITLE>

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullsize(sURL)
{
  window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>

</HEAD>
<BODY BACKGROUND="images/graybg.gif" BGCOLOR="GRAY", TEXT="BLACK",
LINK="BLUE", ALINK="GREEN", VLINK="RED">
<H3><CENTER>Инструменты</CENTER></H3>
Инструменты реализуют логику, которую инженер привлекает для решения специфических задач
в своей предметной области. Инструменты выполнены в виде окон диалога, которые дополняют 
основной пользовательский интерфейс. В зависимости от того, какие именно инструменты загружает
пользователь, соответствующим образом будут меняться и режимы работы самой программы. Все
инструменты выбираются из меню View (Просмотр) или из контекстно-зависимого меню в рабочей
области. В настоящий момент реализован следующий набор инструментов:

<P>
<A HREF="#CrossSection">Построение вертикальных разрезов</A><BR>
<A HREF="#CellProbe">Просмотр цифрового содержимого</A><BR>
<A HREF="#CumulativeS">Отображение данных в соответствии с трёхфазной диаграммой</A><BR>
<A HREF="#Resources">Подсчёт запасов</A><BR>
<A HREF="#IntegralProps">Расчёт интегральных характеристик</A><BR>
<A HREF="#FindWell">Поиск скважин по имени или номеру ствола</A><BR>
<A HREF="#WellMatch">Сопоставление разрезов скважин</A><BR>
<A HREF="#Geophysics">Выдача отчёта по интерпретации ГИС</A><BR>
<A HREF="#Fragment">Трёхмерная визуализация фрагмента модели</A><BR>
<A HREF="#Inclinometry">Редактор инклинометрии скважины</A><BR>

<A NAME=CrossSection><H4>Построение вертикальных разрезов</H4></A>
Диалог для построения разрезов вызывается путём выбора пункта Cross Section из меню View. 
Пользователь задаёт конорольные точки на карте по двойному шелчку левой кнопки мыши. 
Точка считается определённой в стволе скважины, если она попадает в круг радиуса 5м 
от истинного положения скважины. При этом в окне диалога Cross Section высвечивается 
имя соответствующей скважины. Ранее определённые точки можно перетащить мышью в новое 
положение, при этом соответствующим образом будет обновлён рабочий диалог. Удерживая клавишу Ctrl
таким же образом можно продублировать какую-либо контрольную точку на новом месте. 
В окне диалога имеются кнопки для изменения порядка расположения контрольных точек 
и их удаления. Из меню File можно загрузить ранее сохранённый разрез или сохранить 
текущий. Формат файла для разреза -- последовательность координат контрольных точек. 
По нажатию кнопки Plot запускается процедура загрузки данных из базы и автоматически
генерируется код программы на языке Postscript для графического представления разреза 
в векторном виде, пригодном для последующей обработки в графическом редакторе или перати
на принтере, с установленной поддержкой Postscript. Если установлен флаг Run (Запуск)
в нижней части окна диалога, автоматически сгенерированная программа загружается в
программу, которая предназначена для работы с файлами формата Postscript. Код на языке
Postscript разрабатывался в соответствии с рядом спецификациий, опубликованными
Adobe Systems Incorporated, что гарантирует совместимость с широким спектром программного
обеспечения для работы с файлани этого формата. Для просмотра полученного графического
изображения рекомендуется использовать программу GhostView, находящуюся в свободном
распространении. Для визуального редактирования можно применять пакет CorelDraw.

<P>
<img src="images/crosssection.jpg" border=0 width=428 height=468
ALT="Задание контрольных точек для разреза модели" hspace=20 vspace=20> 
<P>
<p><b>Рис.3-1.</b><i>Задание контрольных точек для разреза модели.</i>

<P>
Тип разреза зависит от того, активен ли режим CumulativeS. Если режим включён, то строится разрез, 
на котором показаны зоны коллектор/неколлектор а также характер насыщения коллектора флюидами. 
Если режим CumulativeS отключен, строится разрез текущего куба свойств. При этом, если 
доступна соответствующая информация вдоль ствола скважины, что позволяет инженеру оценить, 
насколько точно предлагаемая геологическая модель соответствует экпериментальным данным. 
Вот нескольно примеров изображений, полученных с помощью данного инструмента:

<P>
<a href="javascript:fullsize('pagination.html')">
<img src="images/pagination.gif" border=0 width=1058 height=265 alt="Увеличить">
</a>
<p><b>Рис 3-2.</b> <i>Комбинированная насыщенность на основе трёхфазной 
даграммы, разбивка на страницы</i>

<P>
<a href="javascript:fullsize('lateral.html')">
<img src="images/lateral.gif" border=0 width=766 height=261 alt="Увеличить">
</a>
<p><b>Рис 3-3.</b><i>Распределение коэффициента самопроизвольной поляризации и
проницаемость в районе скважины 5832, геометрия основного и бокового ствола 
скважины, арифметическое и логарифмическое отображение данных цветовом.</i>

<P>
<a href="javascript:fullsize('logcurves.html')">
<img src="images/logcurves.png" border=0 width=391 height=265 alt="Увеличить">
</a>
<p><b>Рис 3-4.</b><i>Стандартный каротаж, границы геологических формаций и 
распределение пористости по линии скважин 1916, 1917, 1918, 1919, 1920 и 2448.
</i>

<P>
Путём выбора пункта меню Options в окне диалога Cross Section можно задать такие характеристики 
печатаемой диаграммы как размеры полей, число страниц, характеристики сетки, формат бумаги и др.
Опция show formation позволяет отобразить штриховкой границы геологических объектов на диаграмме.
Для коррестного отображения такой диаграммы в окне GhostView следует убедиться, что параметр
Graphics Alpha диалога Media | Display Settings установлен 1. 

<P>
<img src="images/plottingops.jpg" border=0 width=468 height=340
ALT="Параметры для построения изображения" hspace=20 vspace=20> 
<P>
<p><b>Рис.3-5.</b><i>Параметры для построения изображения.</i>
<P>

<A NAME=CellProbe><H4>Просмотр цифрового содержимого</H4></A>
Выбор пункта меню Cell Probe открывает диалог для просмотра цифрового содержимого столбца
ячеек модели в виде электронной таблицы. В этом режиме двойнойной щелчёк над ячейкой в
рабочей области подгружает новые данные в таблицу. В таблице присутствуют данные из всех
массивов, которые представлены в базе данных. Для динамических массивов данные загружаются
на момент времени, который отображён на навигационной панели. Данный инструмент позволяет 
оценить насколько хорошо согласуются между собой свойства в отдельных ячейках.

<P>
<a href="javascript:fullsize('numerical.html')">
<img src="images/numerical.jpg" border=0 width=400 height=300
ALT="Увеличить" hspace=20 vspace=20> 
</a>
<P>
<p><b>Рис.3-6.</b><i>Цифровое содержимое модели.</i>
<P>

<A NAME=CumulativeS><H4>Отображение данных в соответствии с трёхфазной диаграммой</H4></A>
Выбор пункта меню CumulativeS переводит программу в режим отображения насыщенности в 
соответствии с трёхфазной диаграммой. Для того, чтобы была доступна эта опция, в базе данных
должн присутствовать массив с именем soil (для нефтенасыщенности) и (или) sgas (для 
газонасыщенности). Таким образом, для каждой ячейки имеется три величины, связанные 
соотношением<BR>
<P>
<CENTER>S<SUB><SMALL>g</SMALL></SUB> + S<SUB><SMALL>o</SMALL></SUB> 
  + S<SUB><SMALL>w</SMALL></SUB> = 1 </CENTER>
<P>
Для отбражения этого набора данных в цвете выбираются три опорных цвета (жёлтый для газа, 
коричневый для нефти и синий для воды) и значения насыщенностей используются как веса
при трилинейной интерполяции между этими цветами. Квоме этого, на диаграмме будет отображён
признак коллектор/неколлектор, который задаёт проницаемые области модели. Признак определяется
по значению проницаемости, пороговое значение задаётся в регистрационной базе данных Windows
как значение ключа HKEY_CURRENT_USER\Software\Field\Field\Nocollector.

<P>
<a href="javascript:fullsize('combined.html')">
<img src="images/combined.jpg" border=0 width=400 height=300
ALT="Увеличить" hspace=20 vspace=20> 
</a>
<P>
<p><b>Рис.3-7.</b><i>Комбинированная насыщенность коллекторов модели.</i>

<A NAME=Resources><H4>Подсчёт запасов</H4></A>
Диалог для подсчёта запасов вызывается командой Resources из меню View. По умолчанию 
подсчитываются запасы нефти и, если в модели присутствует газовая фаза, газа в целом 
по модели. В окне диалога присутствуют поля редактирования для задания плотности нефти 
в поверхностных условиях, пересчётного коэффициента, а также термического и барического 
коэффициентов для газа. При нажатии кнопки Edit всплывает диалог для задания новых или 
редактирования уже существующих объектов, по которым ведётся подсчёт запасов углеводородов. 
Геологические обекты (пласты) могут быть определены поверхностями кровли и подошвы, которые 
выступают как пределы интегрирования при подсчёте запасов. Существующие свойства отображаются 
в списке с левой стороны, при щелчке на элементе этого списка, его характеристики загружаются 
в поля редактирования с правой стороны. Обновляется список при нажатии кнопки Update. 
Выделенный элемент списка кожно удалть при нажатии кнопки Remove. Когда всплывает окно диалога 
Resources, программа переключается в режим отображения двумерных полей. В обзорном окне и 
в рабочей области отображаются карты, соответствующие удельным запасам свойства, находящегося 
в выделенной ячейке окна диалога. Переключение между различными свойствами происходит по 
щелчку мыши над соответствующими ячейками. Программа возвращается в обычный режим работя 
при нажатии кнопки Done. 


<P>
<a href="javascript:fullsize('reserves1.html')">
<img src="images/reserves1.jpg" align=left border=0 width=400 height=300
ALT="Увеличить" hspace=20 vspace=20> 
</a>
<a href="javascript:fullsize('reserves2.html')">
<img src="images/reserves2.jpg" border=0 width=400 height=300
ALT="Увеличить" hspace=20 vspace=20> 
</a>
<P>
<p><b>Рис.3-7..3-8.</b><i>Карты удельных запасов.</i>

<A NAME=IntegralProps><H4>Расчёт интегральных характеристик</H4></A>
В ходе эксплуатации программы встала необходимость обращаться к другим интегральным характеристикам 
месторождения, таким как, например, карты нефтенасыщенных толщин. Порядок работы с такими 
характеристиками очень похож на работу с удельными запасами, но, к сожалению, не предусмотрен 
в схеме для подсчёта запасов. Поэтому был разработан более универсальный инструмент, названный 
Integral Properties. Используя этот инструмент, пользователь спосбен выполнить расчёт интеграла
с произвольной подынтегральной функцией и произвольными границами интегрируемой области
внутри модели. Окно диалога Integral Properties вызывается командой Integral Prop из меню 
View. Как и окно диалога Resources, окно для интегральных свойств месторождения имеет слева 
список свойств, а справа -- поля для редактирования характеристик, определяющие выделенное 
в списке свойство. Эти характеристики разделяются на три группы: Integral dataset, Geological 
formation и Areal constraint. Integral dataset задаёт название интегральной характеристики, 
которое появится в списке свойств после нажатия кнопки Compute, арифметическое выражение 
для подынтегральной функции и необязательный комментарий, описывающий набор данных. 
Geological formation, подобно диалогу Resources, задаёт поверхности, ограничивающие 
область интегрирования сверху и  снизу. Areal constraint задаёт контур, внутри которого 
производится интегрирование. Если Geological formation или Areal constraint не заданы, 
интегрирование происходит по всему объёму. Для каждой из групп свойств ведётся 
свой список, что позволяет сильно сократить время расчёта, если требуется определить 
множество интегральных характеристик по одному и тому же объекту разработки. Напимер, 
если требуется подсчитаь запасы нефти и газа, содержащиеся в пласте АС10, на территории ДНС13, 
после расчёта по нефти пользователь задаёт новую информацию только для группы Integral dataset, 
при этом расчёт индикаторной карты второй раз производиться не будет. Результаты расчётов можно
записать в файл с помощью команды Save из меню File. Во время следующего сеанса работы, 
ранее посчитанные интегральные характеристики можно загрузить с помощью команды Open из 
меню File. Контур, ограничивающий область интегрирования в плоскости XY, загружается из 
файла в формате *.bln программы Surfer. Аналогично, поверхности, ограничивающие геологический 
объект, задаются в формате *.grd программы Surfer, поддерживаются файлы с сигнатурами DSAA, 
DSBB, DSRB. Нажатие кнопки Digitize предоставляет возможность визуального редактирования 
контура с последующей записью в файл.


<P>
<a href="javascript:fullsize('iprop1.html')">
<img src="images/iprop1.jpg" align=left border=0 width=300 height=215
ALT="Расчёт запасов нефти по во всей модели месторождения." hspace=20 vspace=20> 
</a>
<a href="javascript:fullsize('iprop2.html')">
<img src="images/iprop2.jpg" border=0 width=300 height=215
ALT="Расчёт запасов нефти в пласте AC9." hspace=20 vspace=20> 
</a>
<P>
<a href="javascript:fullsize('iprop3.html')">
<img src="images/iprop3.jpg" align=left border=0 width=300 height=215
ALT="Расчёт запасов нефти в пласте AC9 на территории ДНС-11." hspace=20 vspace=20> 
</a>
<a href="javascript:fullsize('iprop4.html')">
<img src="images/iprop4.jpg" border=0 width=300 height=215
ALT="Расчёт запасов нефти на территории ДНС-13." hspace=20 vspace=20> 
</a>
<P>
<p><b>Рис.3-9..3-12.</b><i>Расчёт интегральных свойств.</i>

<A NAME=FindWell><H4>Поиск скважин по имени или номеру ствола</H4></A>
Этот диалог представляет собой средство для быстрого поиска по имени скважины или по 
идентификатору ствола скважины.Он отображает в рабочей области все скважины, траектория 
ствола которых имеет общие точки с построенной моделью. Диалог работает следующим образом. 
Пользователь в поле редактирования вводит имя скважины, при этом список всех скважин 
прокручивается до первого элемента, для которого выполнено совпадение. Как только 
нужная скважина найдена, можно нажать клавишу ENTER или выполнить двойной щелчёк мыши над
элементом списка для переноса центра рабочей области в точку с координатами нужной
скважины

<P>
<img src="images/findwell.jpg" border=0 ALT="Поиск скважин" hspace=20 vspace=20>
<p><b>Рис.3-13.</b><i>Панель диалога для поиска скважин в рабочей области.</i>


<A NAME=WellMatch><H4>Сопоставление разрезов скважин</H4></A>
Этот диалог предназначен для работы с обширным разделом базы данных, где собрана информация
по геофизическим исследоаниям скважин (каротажу). В текущей реализации поддерживается лишь вывод
стандартного каротажа (удельное сорротивление [PZ], кривая самопроизвольной поляризации [SP] и
индукционный каротаж [IL]) при построении ветрикального разреза месторождения.

<P>
<img src="images/wellmatch.jpg" border=0 ALT="Сопоставление разрезов" hspace=20 vspace=20>
<p><b>Рис.3-14.</b><i>Панель диалога для поиска скважин в рабочей области.</i>

<A NAME=Geophysics><H4>Выдача отчёта по интерпретации ГИС</H4></A>

Выдача отчёта по интерпретации ГИС производится при выборе пункта Geophysics (Геофизика) 
в контекстно-зависимом меню, появляющимся при нажатии правой кнопки над скважиной в 
рабочей области программы. При этом, используя технологию Automation, запускается 
экземпляр приложения Microsoft Excel, и в него передаются данные, хранящиеся в 
разделе geophysics файла HDF в сжатом виде.

<P>
<a href="javascript:fullsize('geophysics.html')">
<img src="images/geophysics.jpg" border=0 width=200 height=200
ALT="Интерпретация ГИС" hspace=20 vspace=20>
</a>
<p><b>Рис.3-15.</b><i>Отчёт по интерпретации ГИС.</i>


<A NAME=Fragment><H4>Трёхмерная визуализация фрагмента модели</H4></A>

Этот инструмент вызывается при выборе пункта 3D Fragment из контекстно-зависимого меню в
рабочей области. На данный моммент по желанию пользователей реализована загрузка траектории 
ствола скважины и её окружения в окно для просмотра в трёхмерном виде. Полученное изображение 
сохраняется в растровый файл по команде Save меню File.
<P>
<img src="images/3Dfragment.jpg" border=0 ALT="3В fragment" 
width=200 height=200 hspace=20 vspace=20>
<p><b>Рис.3-16.</b><i>Трёхмерный фрагмент модели.</i>

<A NAME=Inclinometry><H4>Редактор инклинометрии скважины</H4></A>

Редактор инклинометрии вызывается по команде Inclinometry из контекстно-зависимого меню в
рабочей области. Он предназначен для записи в базу данных траектории новых скважин или 
исправления уже существующих. Так как на каждую скважину могут приходиться сотни записей, 
задающих её траекторию, изменение всей траектории требует больших трудозатрат, поэтому
при запуске редактора в него загружается траектория какой-то конкретной скважины в качестве
шаблона с тем, чтобы пользователь изменил всего лишь несколько точек на её траектории и внёс
исправленную информацию в базу данных. Для каждой скважины в базе данных различается по
своему идентификатору, который задаётся в поле редактирования Well bore number. Если 
пользователь желает задать траекторию бокового ствола на основе траектории основного,
требуется указать идентификатор основного ствола в поле редактирования Parent well bore.
Траектория ствола скважины представлена в виде таблицы с полями dx, dy, dz и md. Тройка
(dx, dy, dz) задаёт отклонение в метрах от устья скважины замера, проведённого на расстоянии
md вдоль ствола скважины. изменения в таблицу вносятся при нажатии кнопки Insert. Аналогично,
чтобы удалить один или несколько элементов таблицы, следует выделить нужные элементы и
нажать кнопку Remove. Наконец, по окончании редактирования траектории скважины, нужно
внести изменения в базу данных, нажав кнопку Update. Отказаться от изменения данных и закрыть
диалоговую панель можно с помощью кнопки Cancel.
<P>
<img src="images/ieditor.jpg" border=0 ALT="редактор инклинометрии" hspace=20 vspace=20>
<p><b>Рис.3-17.</b><i>Редактор инклинометрии.</i>

<P>
<ADDRESS> Created by Alexander Chupeev<BR>
Created on 18 April 2004</ADDRESS>
</BODY>
</HTML>
